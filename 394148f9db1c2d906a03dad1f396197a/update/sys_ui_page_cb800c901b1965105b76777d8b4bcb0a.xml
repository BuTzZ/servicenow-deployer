<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_ui_page">
    <sys_ui_page action="INSERT_OR_UPDATE">
        <category>general</category>
        <client_script/>
        <description/>
        <direct>false</direct>
        <endpoint>x_snc_deployer_manual.do</endpoint>
        <html><![CDATA[<?xml version="1.0" encoding="utf-8" ?>
<j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null">
<div style="padding-left: 20px;">
<span style="visibility: hidden;">_CUT_HERE_</span>
	<g2:no_escape>$[
		var docapi = new x_snc_devtools.DocumentationAPI('394148f9db1c2d906a03dad1f396197a');
		docapi.RenderHeader();
	]</g2:no_escape>
	
	<p>Welcome to Deployer - created and maintained by&#160;<a href="mailto:sascha.wildgrube@servicenow.com">Sascha Wildgrube</a>.</p>

	<h2>Features</h2> 
	<p>The Deployer app provides several tools to support a fully automated CICD pipeline. Its capabilities can be used on target instances for deplyoments - that is the instances to which apps are to be deployed - and on the instance that orchestrates the CICD process.</p>

	<h3>CICD Instance features</h3>
	<p>The "CICD Instance" is an instance that is used to run and operate CICD pipeline automation tools - a control tower.</p>
	<p>&#160;<a href="/x_snc_deployer_repository_credentials_list.do" target="_blank">Repository Credentials</a>&#160;need be configured so that the Deployer can access a public or internal source control system based on the repository url alone. Repository Credentials allow to map credential records with specific repository urls or just fractions of urls to cover multiple repositories.</p>
	<p>The&#160;<a href="/x_snc_deployer_repository_application_status_list.do" target="_blank">Repository App Status</a>&#160;feature can be used to analyse a given repository and check its readyness for deployment. To access the repositories, the Repository Credentials must be configured.</p>
	<p>&#160;<a href="/x_snc_deployer_instance_list.do" target="_blank">Target Instances</a>&#160;need be configured to enable deployments of applications to these instances. The exact steps performed during a deployment can be configured for each Target Instance - e.g., whether to execute the default ATF Test Suite of each installed application and whether CodeSanity checks should be performed during deployment.</p>
	<p>&#160;<a href="/x_snc_deployer_deployment_list.do" target="_blank">Deployments</a>&#160;represent the specific deployment of an application (and its dependencies) in a given version to a specified Target Instance. As of now Deployer does not conduct any deployment activities itself - it only provides a task list - but stay tuned!</p>	

	<h3>Target Instance features</h3>
	<p>The "Target Instance" is an instance to which applications are to be deployed.</p>
	<p>The Deployer app exposes a REST API to check the status of the target instance and to execute the installation scripts of an application and all of its dependencies in the correct order.</p>

	<h2>Disclaimer</h2>
	<g2:no_escape>$[docapi.RenderDisclaimer()]</g2:no_escape>	
	
	<h2>System Requirements</h2>
	<ul>
		<g2:no_escape>$[
			docapi.RenderSystemRequirements(
				'Tokyo,Utah',
				true,
				AppGetDependencies());
		]</g2:no_escape>	
	</ul>
	
	<h2>Installation on target instance</h2>
	<ol>
		<g2:no_escape>$[
			docapi.RenderInstallationInstructionsImportFromSourceControl(
				'DevTools',
				'https://github.com/saschawildgrube/servicenow-devtools',
				true,
				'https://www.wildgrube.com/servicenow-devtools/');
		]</g2:no_escape>
		<g2:no_escape>$[
			docapi.RenderInstallationInstructionsImportFromSourceControl(
				'Deployer',
				'https://github.com/saschawildgrube/servicenow-deployer');
		]</g2:no_escape>		
		<g2:no_escape>$[
			docapi.RenderInstallationInstructionsAppInstall();
		]</g2:no_escape>		
		<li>Create a technical user and assign the x_snc_deployer.api role to allow a CICD automation tool to be configured to run installation scripts on the target instance remotely.</li>
	</ol>
	
	<h2>Installation on CICD instance</h2>
	<ol>
		<g2:no_escape>$[
			docapi.RenderInstallationInstructionsImportFromSourceControl(
				'DevTools',
				'https://github.com/saschawildgrube/servicenow-devtools',
				true,
				'https://www.wildgrube.com/servicenow-devtools/');
		]</g2:no_escape>
		<g2:no_escape>$[
			docapi.RenderInstallationInstructionsImportFromSourceControl(
				'Deployer',
				'https://github.com/saschawildgrube/servicenow-deployer');
		]</g2:no_escape>		
		<g2:no_escape>$[
			docapi.RenderInstallationInstructionsAppInstall();
		]</g2:no_escape>		
		<li>Configure&#160;<a href="/x_snc_deployer_repository_credentials_list.do" target="_blank">Repository Credentials</a>&#160;to map credential records to one or more source control systems, groups or even individual repositories within these source control systems.</li>
	</ol>	
	
	<h2>Reference</h2>

	<h3>Configuration Options</h3>
	<g2:no_escape>$[docapi.RenderProperties()]</g2:no_escape>
	
	<h3>Roles</h3>
	<g2:no_escape>$[docapi.RenderRoles()]</g2:no_escape>		
	
	<h3>REST APIs</h3>
	<g2:no_escape>$[docapi.RenderRestApis()]</g2:no_escape>		
	
	<h3>UI Actions</h3>
	<g2:no_escape>$[docapi.RenderUIActions()]</g2:no_escape>		

	<h3>Script Includes</h3>
	<g2:no_escape>$[docapi.RenderScriptIncludes()]</g2:no_escape>

<!--	
	<h3>UI Scripts</h3>
	<g2:no_escape>$[docapi.RenderUIScripts()]</g2:no_escape>	
	
	<h3>Test step configurations</h3>
	<g2:no_escape>$[docapi.RenderTestStepConfigurations()]</g2:no_escape>
	
	<h3>Extension Points</h3>
	<g2:no_escape>$[docapi.RenderExtensionPoints()]</g2:no_escape>		

	<h3>Business Rules</h3>
	<g2:no_escape>$[docapi.RenderBusinessRules()]</g2:no_escape>	
-->
 
	<h2>License</h2>
	<g2:no_escape>$[docapi.RenderCopyright(2023,'Sascha Wildgrube')]</g2:no_escape>
	<g2:no_escape>$[docapi.RenderLicense()]</g2:no_escape>
	
	<h2>Release Notes</h2>

	<!--
	<h3>1.x.0 - 2023-TODO</h3>
	<ol>
		<li>TODO: document changes here</li>
	</ol>
-->
	
	<h3>1.5.0 - 2023-TODO</h3>
	<ol>
		<li>DevTools 1.72.0 is now required due to a bugfix in GetDependencyListFromTree().</li>
		<li>The related link "Show task List" now only shows after the deployment has been created.</li>
		<li>If logging.verbosity is set to "debug" HtmlRenderRepoDependencies() displays the raw data of the repository status.</li>
		<li>Improved status display in HtmlRenderRepoDependencies().</li>
		<li>Added "Credentials" menu item.</li>
		<li>Added UI action "New Version" to create a new Repo App Status for a new version.</li>
		<li>The system property "x_snc_deployer.required_target_version" now defines the minimum version of the Deployer app that must be installed on the target instance.</li>
	</ol>	
	
	<h3>1.4.0 - 2023-09-22</h3>
	<ol>
		<li>A deployment can now be configured to either enforce downgrades - to exactly match the versions contained in the repositories - or to leave more current versions on the target instance.</li>
		<li>A deployment can now be configured to refresh application versions that are already installed on the target instance (or not).</li>
		<li>A deployment can now be configured to skip the execution of CodeSanity checks on the target instance.</li>
		<li>A deployment can now be configured to skip the execution of the default ATF Test Suites of applications on the target instance.</li>
		<li>Deployer Target API / Get Status now also returns the application status.</li>
		<li>Added function GetApplicationListFromInstance() to retrieve an array of applications and customization applications from a target instance.</li>
	</ol>	
	
	<h3>1.3.0 - 2023-09-18</h3>
	<ol>
		<li>Introduced the "Deployment" table to keep track of deployments.</li>
		<li>Added the "Show Task List" UI action to show a wiki-formatted task list for the deployment.</li>
		<li>Introduced the "Instance" table to keep configuration and credential references for target instances.</li>
		<li>The "Validate" UI action can be used to verify if an instance is properly configured and if the credentials enable the execution of API calls on the instance.</li>
		<li>Added function GetDeploymentTasks() to determine the required deployment tasks based on a given application deployment status and a target instance.</li>
		<li>GetLatestRepoDependencyTree() now contains the field "repository_application_status" which contains the Sys ID of the status record from where the information was gathered.</li>
	</ol>	
	
	<h3>1.2.0 - 2023-07-31</h3>
	<ol>
		<li>Added function GetLatestRepoDependencyStatus().</li>
		<li>Added function CleanUpPackageObject() to avoid not necessary fields in the objects returned by functions determining the application repository status.</li>  
		<li>Avoiding flakyness for ATF tests for GetLatestRepoDependencyList() and GetLatestRepoDependencyTree().</li>
		<li>Improved feature and installation documentation in manual.</li>
	</ol>
	
	
	<h3>1.1.0 - 2023-07-25</h3>
	<ol>
		<li>Deployer is now fully tested in Utah.</li>
		<li>San Diego is no longer actively supported.</li>
		<li>DevTools 1.65.0 is now required because of the contained GitLabAPI and GitHubAPI classes and the new GetDependencyListFromTree() function.</li>
		<li>Deployer now supports the analysis of the deployment readyness of an application version stored in a source code repository.</li>
		<li>The exposed functions allow pipeline automation apps to use the repository application status information as input.</li> 
		<li>Added x_snc_deployer.viewer, x_snc_deployer.manager and x_snc_deployer.admin roles.</li> 
		<li>The Deployer menu is now accessible to users with the x_snc_deployer.viewer role.</li>
		<li>Removed the menu item "Repository Viewer (ad-hoc)".</li>
		<li>Added function GetCredentialForRepository().</li>
		<li>Added function GetRepositoryType().</li>
		<li>Added function SourceControlAPI::GetRequestCount().</li>
		<li>Added function IsBranchDeployable().</li>
		<li>Added function GetLatestRepoDependencyTree().</li>
		<li>Added function GetLatestRepoDependencyList().</li>
	</ol>	
	
	<h3>1.0.0 - 2023-02-24</h3>
	<p>First baselined version</p>

<span style="visibility: hidden;">_CUT_HERE_</span>
</div>
</j:jelly>]]></html>
        <name>manual</name>
        <processing_script/>
        <sys_class_name>sys_ui_page</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-02-24 10:04:44</sys_created_on>
        <sys_id>cb800c901b1965105b76777d8b4bcb0a</sys_id>
        <sys_mod_count>63</sys_mod_count>
        <sys_name>manual</sys_name>
        <sys_package display_value="Deployer WORK IN PROGRESS" source="x_snc_deployer">394148f9db1c2d906a03dad1f396197a</sys_package>
        <sys_policy/>
        <sys_scope display_value="Deployer WORK IN PROGRESS">394148f9db1c2d906a03dad1f396197a</sys_scope>
        <sys_update_name>sys_ui_page_cb800c901b1965105b76777d8b4bcb0a</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-10-27 17:06:55</sys_updated_on>
    </sys_ui_page>
</record_update>
